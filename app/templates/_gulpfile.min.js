!function(){"use strict";var e="<%= ngModulName %>",s=require("gulp"),t=require("gulp-load-plugins")(),r=require("del"),i=require("beepbeep"),n=require("express"),o=require("path"),p=require("open"),a=require("jshint-stylish"),c=require("connect-livereload"),l=require("streamqueue"),u=require("run-sequence"),f=(require("merge-stream"),require("ripple-emulator")),d=require("gulp-minify-css"),m=require("gulp-replace"),h=require("yargs").alias("e","emulate").alias("b","build").alias("r","run").alias("release","strip-debug")["default"]("build",!1)["default"]("port",9e3)["default"]("strip-debug",!1).argv,v=!!(h.build||h.emulate||h.run),g=h.emulate,j=h.run,w=h.port,k=!!h.stripDebug,b=o.resolve(v?"www":".tmp");g===!0&&(g="ios"),j===!0&&(j="ios");var q=function(e){if(v)throw e;i(2,170),t.util.log(e)};s.task("clean",function(e){r([b],e)}),s.task("styles",function(){var e=v?{style:"compressed"}:{style:"expanded"},r=t.rubySass("app/styles/main.scss",e).pipe(t.autoprefixer("last 1 Chrome version","last 3 iOS versions","last 3 Android versions")),i=s.src(["bower_components/ionic/css/ionic.min.css","bower_components/ionic-material/ionic.material.min.css"]);return l({objectMode:!0},i,r).pipe(t.concat("main.css")).pipe(m("/*!","/*")).pipe(t["if"](v,t.stripCssComments())).pipe(t["if"](v,d())).pipe(t["if"](v&&!g,t.rev())).pipe(s.dest(o.join(b,"styles"))).on("error",q)}),s.task("scripts",function(){var r=o.join(b,"scripts"),i={collapseWhitespace:!0,collapseBooleanAttributes:!0,removeAttributeQuotes:!0,removeComments:!0},n=s.src("**/*.html",{cwd:"app/templates"}).pipe(t.angularTemplatecache("templates.js",{root:"templates/",module:e,htmlmin:v&&i})),p=s.src(["templates.js","app.js","**/*.js"],{cwd:"app/scripts"}).pipe(t["if"](!v,t.changed(r)));return l({objectMode:!0},p,n).pipe(t["if"](v,t.ngAnnotate())).pipe(t["if"](k,t.stripDebug())).pipe(t["if"](v,t.concat("app.js"))).pipe(t["if"](v,t.uglify())).pipe(t["if"](v&&!g,t.rev())).pipe(s.dest(r)).on("error",q)}),s.task("fonts",function(){return s.src(["app/fonts/**/*.*","bower_components/ionic/fonts/*.*"]).pipe(s.dest(o.join(b,"fonts"))).on("error",q)}),s.task("templates",function(){return s.src("app/templates/**/*.*").pipe(s.dest(o.join(b,"templates"))).on("error",q)}),s.task("iconfont",function(){return s.src("app/icons/*.svg",{buffer:!1}).pipe(t.iconfontCss({fontName:"ownIconFont",path:"app/icons/own-icons-template.css",targetPath:"../styles/own-icons.css",fontPath:"../fonts/"})).pipe(t.iconfont({fontName:"ownIconFont"})).pipe(s.dest(o.join(b,"fonts"))).on("error",q)}),s.task("images",function(){return s.src("app/images/**/*.*").pipe(s.dest(o.join(b,"images"))).on("error",q)}),s.task("jsHint",function(e){return s.src("app/scripts/**/*.js").pipe(t.jshint()).pipe(t.jshint.reporter(a)).on("error",q)}),s.task("vendor",function(){var e=require("./vendor.json");return s.src(e).pipe(t.concat("vendor.js")).pipe(t["if"](v,t.uglify())).pipe(t["if"](v,t.rev())).pipe(s.dest(b)).on("error",q)}),s.task("index",["jsHint","scripts"],function(){var e="styles/main*",r=function(e,s){return t.inject(e,{starttag:"<!-- inject:"+s+":{{ext}} -->",read:!1,addRootSlash:!1})},i=function(){var e=s.src(["scripts/app.js","scripts/**/*.js"],{cwd:b});return l({objectMode:!0},e)};return s.src("app/index.html").pipe(r(s.src(e,{cwd:b}),"app-styles")).pipe(r(s.src("vendor*.js",{cwd:b}),"vendor")).pipe(t["if"](v,r(s.src("scripts/app*.js",{cwd:b}),"app"),r(i(),"app"))).pipe(s.dest(b)).on("error",q)}),s.task("serve",function(){n().use(v?function(){}:c()).use(n["static"](b)).listen(w),p("http://localhost:"+w+"/")}),s.task("ionic:emulate",t.shell.task(["ionic emulate "+g+" --livereload --consolelogs"])),s.task("ionic:run",t.shell.task(["ionic run "+j])),s.task("icon",t.shell.task(["ionic resources --icon"])),s.task("splash",t.shell.task(["ionic resources --splash"])),s.task("resources",t.shell.task(["ionic resources"])),s.task("select",t.shell.task(["./helpers/emulateios"])),s.task("ripple",["scripts","styles","watchers"],function(){var e={keepAlive:!1,open:!0,port:4400};f.emulate.start(e),p("http://localhost:"+e.port+"?enableripple=true")}),s.task("watchers",function(){t.livereload.listen(),s.watch("app/styles/**/*.scss",["styles"]),s.watch("app/fonts/**",["fonts"]),s.watch("app/icons/**",["iconfont"]),s.watch("app/images/**",["images"]),s.watch("app/scripts/**/*.js",["index"]),s.watch("./vendor.json",["vendor"]),s.watch("app/templates/**/*.html",["index"]),s.watch("app/index.html",["index"]),s.watch(b+"/**").on("change",t.livereload.changed).on("error",q)}),s.task("noop",function(){}),s.task("default",function(e){u("clean","iconfont",["fonts","templates","styles","images","vendor"],"index",v?"noop":"watchers",v?"noop":"serve",g?["ionic:emulate","watchers"]:"noop",j?"ionic:run":"noop",e)})}();