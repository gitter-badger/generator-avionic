!function(){"use strict";var e="<%= ngModulName %>",s=require("gulp"),t=(require("wiredep").stream,require("gulp-load-plugins")()),r=(require("gulp-sass"),require("gulp-minify-html")),i=(require("gulp-rename"),require("gulp-filesize")),n=(require("gulp-sourcemaps"),require("del")),p=require("beepbeep"),o=require("express"),a=require("path"),c=require("open"),l=require("jshint-stylish"),u=require("connect-livereload"),f=require("streamqueue"),m=require("run-sequence"),d=(require("merge-stream"),require("ripple-emulator")),h=require("gulp-minify-css"),g=require("gulp-replace"),v=require("yargs").alias("e","emulate").alias("b","build").alias("r","run").alias("release","strip-debug")["default"]("build",!1)["default"]("port",9e3)["default"]("strip-debug",!1).argv,j=!!(v.build||v.emulate||v.run),w=v.emulate,k=v.run,q=v.port,b=!!v.stripDebug,y=a.resolve(j?"www":".tmp");w===!0&&(w="ios"),k===!0&&(k="ios");var x=function(e){if(j)throw e;p(2,170),t.util.log(e)};s.task("clean",function(e){n([y],e)}),s.task("styles",function(){var e=j?{style:"compressed"}:{style:"expanded"},r=t.rubySass("app/styles/main.scss",e).pipe(t.autoprefixer("last 1 Chrome version","last 3 iOS versions","last 3 Android versions")),i=s.src(["bower_components/ionic/css/ionic.css","bower_components/ionic-material/ionic.material.min.css"]);return f({objectMode:!0},i,r).pipe(t.concat("main.css")).pipe(g("/*!","/*")).pipe(t["if"](j,t.stripCssComments())).pipe(t["if"](j,h())).pipe(t["if"](j&&!w,t.rev())).pipe(s.dest(a.join(y,"styles"))).on("error",x)}),s.task("scripts",function(){var r=a.join(y,"scripts"),i={collapseWhitespace:!0,collapseBooleanAttributes:!0,removeAttributeQuotes:!0,removeComments:!0},n=s.src("**/*.html",{cwd:"app/templates"}).pipe(t.angularTemplatecache("templates.js",{root:"templates/",module:e,htmlmin:j&&i})),p=s.src(["templates.js","app.js","**/*.js"],{cwd:"app/scripts"}).pipe(t["if"](!j,t.changed(r)));return f({objectMode:!0},p,n).pipe(t["if"](j,t.ngAnnotate())).pipe(t["if"](b,t.stripDebug())).pipe(t["if"](j,t.concat("app.js"))).pipe(t["if"](j,t.uglify())).pipe(t["if"](j&&!w,t.rev())).pipe(s.dest(r)).on("error",x)}),s.task("fonts",function(){return s.src(["app/fonts/**/*.*","bower_components/ionic/fonts/*.*"]).pipe(s.dest(a.join(y,"fonts"))).on("error",x)}),s.task("templates",function(){return s.src("app/templates/**/*.*").pipe(s.dest(a.join(y,"templates"))).on("error",x)}),s.task("iconfont",function(){return s.src("app/icons/*.svg",{buffer:!1}).pipe(t.iconfontCss({fontName:"ownIconFont",path:"app/icons/own-icons-template.css",targetPath:"../styles/own-icons.css",fontPath:"../fonts/"})).pipe(t.iconfont({fontName:"ownIconFont"})).pipe(s.dest(a.join(y,"fonts"))).on("error",x)}),s.task("images",function(){return s.src("app/images/**/*.*").pipe(s.dest(a.join(y,"images"))).on("error",x)}),s.task("jsHint",function(e){return s.src("app/scripts/**/*.js").pipe(t.jshint()).pipe(t.jshint.reporter(l)).on("error",x)}),s.task("vendor",function(){var e=require("./vendor.json");return s.src(e).pipe(t.concat("vendor.js")).pipe(t["if"](j,t.uglify())).pipe(t["if"](j,t.rev())).pipe(s.dest(y)).on("error",x)}),s.task("languages",function(){return s.src("app/languages/*.*").pipe(s.dest(a.join(y,"languages"))).on("error",x)}),s.task("index",["jsHint","scripts"],function(){var e="styles/main*",n=function(e,s){return t.inject(e,{starttag:"<!-- inject:"+s+":{{ext}} -->",read:!1,addRootSlash:!1})},p=function(){var e=s.src(["scripts/app.js","scripts/**/*.js"],{cwd:y});return f({objectMode:!0},e)};return s.src("app/index.html").pipe(n(s.src(e,{cwd:y}),"app-styles")).pipe(n(s.src("vendor*.js",{cwd:y}),"vendor")).pipe(t["if"](j,n(s.src("scripts/app*.js",{cwd:y}),"app"),n(p(),"app"))).pipe(t["if"](j,r())).pipe(i()).pipe(s.dest(y)).on("error",x)}),s.task("serve",function(){o().use(j?function(){}:u()).use(o["static"](y)).listen(q),c("http://localhost:"+q+"/")}),s.task("ionic:emulate",t.shell.task(["ionic emulate "+w+" --livereload --consolelogs"])),s.task("ionic:run",t.shell.task(["ionic run "+k])),s.task("icon",t.shell.task(["ionic resources --icon"])),s.task("splash",t.shell.task(["ionic resources --splash"])),s.task("resources",t.shell.task(["ionic resources"])),s.task("select",t.shell.task(["./helpers/emulateios"])),s.task("ripple",["scripts","styles","watchers"],function(){var e={keepAlive:!1,open:!0,port:4400};d.emulate.start(e),c("http://localhost:"+e.port+"?enableripple=true")}),s.task("watchers",function(){t.livereload.listen(),s.watch("app/styles/**/*.scss",["styles"]),s.watch("app/fonts/**",["fonts"]),s.watch("app/icons/**",["iconfont"]),s.watch("app/images/**",["images"]),s.watch("app/scripts/**/*.js",["index"]),s.watch("./vendor.json",["vendor"]),s.watch("app/languages/*.json",["languages"]),s.watch("app/templates/**/*.html",["index"]),s.watch("app/index.html",["index"]),s.watch(y+"/**").on("change",t.livereload.changed).on("error",x)}),s.task("noop",function(){}),s.task("default",function(e){m("clean","iconfont",["fonts","templates","styles","images","vendor","languages"],"index",j?"noop":"watchers",j?"noop":"serve",w?["ionic:emulate","watchers"]:"noop",k?"ionic:run":"noop",e)})}();